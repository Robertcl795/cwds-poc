.cv-form-field {
  --cv-form-field-focus-color: var(--cv-sys-color-primary);

  display: grid;
  gap: var(--cv-sys-space-xs);
}

.cv-form-field__control {
  position: relative;
}

.cv-form-field__label {
  font-size: var(--cv-sys-typescale-label);
  font-weight: var(--cv-ref-font-weight-medium);
  color: var(--cv-sys-color-text-muted);
  transition:
    inset-block-start var(--cv-sys-motion-fast) var(--cv-sys-motion-easing),
    transform var(--cv-sys-motion-fast) var(--cv-sys-motion-easing),
    color var(--cv-sys-motion-fast) var(--cv-sys-motion-easing),
    background-color var(--cv-sys-motion-fast) var(--cv-sys-motion-easing);
}

.cv-form-field__helper {
  color: var(--cv-sys-color-text-muted);
  font-size: 0.75rem;
  line-height: 1.2;
  margin: 0;
  opacity: 0;
  transform: translateY(-0.12rem);
  max-block-size: 0;
  overflow: hidden;
  transition:
    opacity var(--cv-sys-motion-fast) var(--cv-sys-motion-easing),
    transform var(--cv-sys-motion-fast) var(--cv-sys-motion-easing),
    max-block-size var(--cv-sys-motion-fast) var(--cv-sys-motion-easing);
}

.cv-form-field[data-helper-visibility='always'] .cv-form-field__helper,
.cv-form-field[data-focused='true'] .cv-form-field__helper,
.cv-form-field[data-invalid='true'] .cv-form-field__helper,
.cv-form-field[data-loading='true'] .cv-form-field__helper {
  opacity: 1;
  transform: translateY(0);
  max-block-size: 2rem;
}

.cv-form-field__helper:empty {
  display: none;
}

.cv-form-field[data-invalid='true'] .cv-form-field__helper,
.cv-form-field[data-invalid='true'] .cv-form-field__label {
  color: var(--cv-sys-color-danger);
}
.cv-form-field[data-invalid='true'] {
  --cv-form-field-focus-color: var(--cv-sys-color-danger);
}

.cv-form-field[data-tone='negative'] .cv-form-field__helper,
.cv-form-field[data-tone='negative'] .cv-form-field__label {
  color: var(--cv-sys-color-negative);
}
.cv-form-field[data-tone='negative'] {
  --cv-form-field-focus-color: var(--cv-sys-color-negative);
}

.cv-form-field[data-tone='positive'] .cv-form-field__helper,
.cv-form-field[data-tone='positive'] .cv-form-field__label {
  color: var(--cv-sys-color-positive);
}
.cv-form-field[data-tone='positive'] {
  --cv-form-field-focus-color: var(--cv-sys-color-positive);
}

.cv-text-input {
  inline-size: 100%;
  border-radius: var(--cv-comp-field-radius);
  border: 1px solid var(--cv-comp-field-border);
  background: var(--cv-comp-field-bg);
  color: var(--cv-comp-field-text);
  padding-block: var(--cv-comp-field-padding-block);
  padding-inline: var(--cv-comp-field-padding-inline);
  transition:
    border-color var(--cv-sys-motion-fast) var(--cv-sys-motion-easing),
    box-shadow var(--cv-sys-motion-fast) var(--cv-sys-motion-easing),
    background-color var(--cv-sys-motion-fast) var(--cv-sys-motion-easing);
}

.cv-text-input:focus {
  border-color: var(--cv-form-field-focus-color, var(--cv-comp-field-border-focus));
  box-shadow: none;
  outline: none;
}

.cv-form-field[data-invalid='true'] .cv-text-input {
  border-color: var(--cv-comp-field-border-danger);
}

.cv-form-field[data-has-icon-start='true'] .cv-text-input {
  padding-inline-start: calc(var(--cv-comp-field-padding-inline) + 1.35rem);
}

.cv-form-field[data-has-icon-end='true'] .cv-text-input {
  padding-inline-end: calc(var(--cv-comp-field-padding-inline) + 1.35rem);
}

.cv-form-field[data-loading='true'] .cv-text-input {
  padding-inline-end: var(--cv-comp-field-padding-inline-loading);
}

.cv-form-field[data-loading='true'][data-has-icon-end='true'] .cv-text-input {
  padding-inline-end: calc(var(--cv-comp-field-padding-inline-loading) + 1.35rem);
}

.cv-form-field__icon {
  position: absolute;
  inset-block-start: 50%;
  transform: translateY(-50%);
  inline-size: 1rem;
  block-size: 1rem;
  color: var(--cv-sys-color-text-muted);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
}

.cv-form-field__icon--start {
  inset-inline-start: var(--cv-sys-space-sm);
}

.cv-form-field__icon--end {
  inset-inline-end: var(--cv-sys-space-sm);
}

.cv-form-field__loader {
  position: absolute;
  inset-inline-end: var(--cv-sys-space-sm);
  inset-block-start: 50%;
  transform: translateY(-50%);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
}

.cv-form-field[data-has-icon-end='true'] .cv-form-field__loader {
  inset-inline-end: calc(var(--cv-sys-space-sm) + 1.35rem);
}

.cv-form-field[data-variant='outlined'] {
  gap: 0;
}

.cv-form-field[data-variant='outlined'] .cv-form-field__control {
  margin-block-start: var(--cv-sys-space-xs);
  overflow: visible;
}

.cv-form-field[data-variant='outlined'] .cv-text-input {
  padding-block-start: calc(var(--cv-comp-field-padding-block) + 0.4rem);
  padding-block-end: var(--cv-comp-field-padding-block);
}

.cv-form-field[data-variant='outlined'] .cv-form-field__label {
  position: absolute;
  inset-inline-start: calc(var(--cv-comp-field-padding-inline) - 0.2rem);
  inset-block-start: 50%;
  transform: translateY(-50%);
  background: var(--cv-sys-color-surface);
  padding-inline: 0.14rem;
  pointer-events: none;
  line-height: 1;
  transform-origin: left center;
}

.cv-form-field[data-variant='outlined'][data-has-icon-start='true'] .cv-form-field__label {
  inset-inline-start: calc(var(--cv-comp-field-padding-inline) + 1.05rem);
}

.cv-form-field[data-variant='outlined'][data-focused='true'] .cv-form-field__label,
.cv-form-field[data-variant='outlined'][data-filled='true'] .cv-form-field__label {
  color: var(--cv-form-field-focus-color);
  inset-block-start: 0;
  transform: translateY(-50%) scale(0.88);
}

.cv-form-field[data-variant='outlined'][data-has-icon-start='true'][data-focused='true'] .cv-form-field__label,
.cv-form-field[data-variant='outlined'][data-has-icon-start='true'][data-filled='true'] .cv-form-field__label {
  inset-inline-start: calc(var(--cv-comp-field-padding-inline) - 0.2rem);
}

.cv-form-field[data-variant='outlined'][data-invalid='true'][data-focused='true'] .cv-form-field__label,
.cv-form-field[data-variant='outlined'][data-invalid='true'][data-filled='true'] .cv-form-field__label {
  color: var(--cv-sys-color-danger);
}

.cv-form-field[data-variant='outlined'] .cv-form-field__helper {
  margin-block-start: 0.125rem;
}
